<script type="text/javascript" src="../node_modules/requirejs/require.js"></script>
<script type="text/javascript" src="main.js"></script>

<link rel="stylesheet" href="../node_modules/@oracle/oraclejet/dist/css/alta/oj-alta.css">

<h3>Pageable Collection</h3>

<script type="text/javascript">
  require(['ojs/ojcore', 'knockout', 'jquery',
  'ojs/ojknockout',
  'ojs/ojtoolbar', 'ojs/ojbutton', 'ojs/ojmodel'], function(oj, ko, $) {
    let Bills = oj.Collection.extend({
      url: 'https://ws-in1.salonify.in/api/billing/bill/history?page=1&per_page=10',
      customPagingOptions: function(response){
        console.log(response);
        return response;
      }
    });

    let bills = new Bills();

    bills
      .fetch({
        headers:{
            "Authorization":"JWT eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTYsInVzZXJuYW1lIjoiYWRtaW4udGVzdDgiLCJhY2NvdW50X2lkIjo4LCJuYW1lc3BhY2UiOiJ0ZXN0OCIsInJvbGUiOiJhZG1pbiIsInV1aWQiOiJjOTZmNmZjMS1iNTM4LTQ2MjMtYjAxNy1iOTQ1NDg5NjJhODUiLCJpYXQiOjE1MTkyNjE1ODIsImV4cCI6MTUxOTM0Nzk4Mn0.-f-rJjim6iUEbejrnCyaoVVm8u8IAqHK-vYJOg8ttcc"
        }
      })
      .then(function(response) {
        console.log(response);
      })
      .catch(function(error) {
        console.log(error);
      });

  });
</script>