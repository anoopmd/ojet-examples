<script type="text/javascript" src="../node_modules/requirejs/require.js"></script>

<script type="text/javascript">
requirejs.config({
  baseUrl: '.',

  paths:  {
    'knockout': '../node_modules/knockout/build/output/knockout-latest',
    'jquery': '../node_modules/jquery/dist/jquery.min',
    'promise': '../node_modules/es6-promise/dist/es6-promise',
    'hammerjs': '../node_modules/hammerjs/hammer',
    'ojdnd': '../node_modules/@oracle/oraclejet/dist/js/libs/dnd-polyfill/dnd-polyfill-1.0.0',
    'ojs': '../node_modules/@oracle/oraclejet/dist/js/libs/oj/min',
    'ojL10n': '../node_modules/@oracle/oraclejet/dist/js/libs/oj/ojL10n',
    'ojtranslations': '../node_modules/@oracle/oraclejet/dist/js/libs/oj/resources',
    'text': '../node_modules/requirejs-text/text',
    'signals': '../node_modules/signals/dist/signals',
    'proj4': '../node_modules/proj4js/dist/proj4-src',
    'css': '../node_modules/require-css/css',
  },
  shim: {
    'jquery': {
      exports: ['jQuery', '$']
    }
  }
});

require(['ojs/ojcore', 'knockout', 'js/models/user', 'js/models/users'], function(oj, ko, User, Users) {
  // simple collection fetch
  let users = new Users();

  // users
  //   .fetch()
  //   .then((data) => console.log(data))
  //   .catch((error) => console.log(error));

  // simple model fetch
  // let user = new User();
  // user.id = 2;

  // user
  //   .fetch()
  //   .then((data) => console.log(data))
  //   .catch((error) => console.log(error));

  // simple fetch with options
  let user = new User();
  user.id = 2;

  user
    .fetch({
      success: (model, response) => {
        console.log(response);
        console.log(model.get('name'));
      }
    });
});
</script>